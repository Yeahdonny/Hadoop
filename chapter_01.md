# Chapter 1 하둡과의 만남

Hadoop
> 빅데이터를 처리하기 위한 분산처리 프레임워크

HDFS (Hadoop Distributed File System)
> 데이터를 저장하는 분산형 파일 시스템

Map Reduce
> 데이터 처리를 위한 분산 프로그래밍 모델



### 여러 개의 디스크에 데이터를 병렬로 쓰거나 읽을시 고려 사항
---
1. 하드웨어 장애

    * RAID, HDFS (데이터 복제)

2. 분할 데이터 결합

    * 맵리듀스 (key-value)  

### 맵리듀스
---
- 무차별 대입 방식 

- 일괄 질의 처리기 

    - 한번의 쿼리로 전체, 상당한 규모의 데이터셋 처리

    - 대화형 분석에 적합 X
- 전체 데이터셋 대상으로 비정형 쿼리 수행


### 기존의 하둡
---
- HDFS & 맵리듀스
### 최근의 하둡
---
- 수많은 에코시스템 프로젝트 지칭
- 분산 컴퓨팅과 대규모 데이터 처리를 위한 기반 시설
- 온라인 접근 지원 구성요소
    - HBase
    
        * HDFS를 기본 저장소로 하는 key-value 저장소
        * 개별 행에 대한 온라인 읽기/쓰기 지원
        * 산더미 데이터를 읽고 쓰는 일괄 처리 지원
    - YARN 

        * 클러스터 자원 관리 시스템
- 처리 패턴
    - 대화형 SQL
        - 장기 실행 전용 <sup>[1](#footnote_1)</sup>데몬(임팔라)나 컨테이너를 재사용하는(테즈 기반의 하이브) 분산 쿼리 엔진 사용
        - 대용량 데이터셋에 대한 확장성이 있으며 하둡 기반의 SQL 쿼리 실행시 빠른 응답 속도
    - 반복 처리
        - 디스크에서 데이터를 불러오는 것보다는 메모리에 임시 작업 데이터셋을 보존하는 것이 효율적
        - 스파크(Spark)
    - 스트림 처리
        - 스톰, 스파크 스트리밍, 삼자와 같은 스트리밍 시스템
    - 검색
        - 솔라 검색 플랫폼
            > 문서를 색인하여 HDFS에 저장하고 HDFS에 저장된 색인을 기반으로 검색 쿼리 제공


### 다른 시스템과 비교를 통해 알아보는 Hadoop의 특성

- RDBMS
    - RDBMS vs 맵리듀스
    
        |     | RDBMS | 맵리듀스 | 
        |:---:|:----: |:----:|
        ||상대적으로 작은 양의 데이터를 낮은 지연 시간에 추출하고 변경하기 위해 데이터셋을 색인하기 때문에 특정 쿼리와 데이터 변경|비정형 분석과 같이 일괄 처리 방식으로 전체 데이터셋을 분석할 필요가 있는 문제|
        |접근 방식|대화형과 일괄 처리 방식|일괄 처리 방식|
        |변경|여러 번 읽고 쓰기|한 번 쓰고 여러 번 읽기|
        |확장성|비선형|선형|


   - RDBMS vs Hadoop
   
        ||RDBMS|Hadoop|
        |:--:|:---:|:---:|
        ||정형 데이터|반정형 데이터, 비정형 데이터|
        ||<sup>[2](#footnote_2)</sup>정규화|비정규화|
    
    - 최근 RDBMS와 하둡 시스템의 차이는 불분명


- Hadoop 계산 노드에 데이터를 함께 배치
    - 데이터 지역성 : 데이터가 로컬에 있어 접근이 빠름
- 맵리듀스가 태스크 간의 상호 의존성이 없는 비공유 아키텍처이기에 실패에 대해 크게 고민 X
 - 맵리듀스는 매우 높은 네트워크 <sup>[3](#footnote_3)</sup>대역폭을 가진 단일 데이터 센터에 있는 신뢰성 높은 전용 하드웨어에서 수 분 또는 수 시간 내에 잡을 실행할 수 있도록 설계








---
<a name="footnote_1">1</a> : 사용자가 직접 제어하지 않고, 백그라운드에서 돌면서 여러 작업을 하는 프로그램

<a name="footnote_2">2</a> : 중복을 최소화 하기 위해 데이터를 구조화 하는 프로세스

<a name="footnote_3">3</a> : 단위시간 당 전달 가능한 데이터 최대량